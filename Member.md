# Поле класса
При описании класса задаются поля, которые подразделяются на:


- [Поля данных](#поля-данных)
- [Поле содежит вложенный подобъект](#поля-данных)
- [Поле содержит список объектов]


Общий формат описания поля:

*@tags*

[*название_поля**] : [*тип_поля*] = [*значение_по_умолчанию*];

Название поля является обязательным.

Если не задано значение по-умолчанию, поле будет содержать значение null после создания

Если не задан тип поля - используется тип var

Пример:

```jsx
field0: string;
field1: var;
field2;
field3: MyTestObject;

```

## Поля данных

Поля могут быть следющих типов:

- boolean, bool 
- int, integer, int32
- int8, int16, int32, int64 
- uint8, uint16, uint32, uint64
- float
- double

- string
- bytearray
- date
- time
- datetime
- timeperiod
- file
- json
- script
- idobject
- var

Примеры задания значений по-умолчанию для полей разных типов:

```javaScript
class MyObjectType  {

    enabled: boolean = true; // false
    name: string = "MyObject";  
    counter: int = 1; 
    value: double = 0.145;
    mask: int64 = 0xFFAA000000;
  

    #privateField: int;
}
```

## Поля, содержащие вложенные объекты

Для создания вложенных объектов в качестве типа поля указывается тип объекта 

Если значение по-умолчанию не задано - подобъект не будет создан при создании родительского объекта. 
Значение поля при этом будет **`null`**. Его можно создать позже в фукнции и присвоить этому полю. 

Тип дочернего объекта может либо полностью соответствовать, либо быть отнаследованным от указанного типа.

Если поле может содержать объект любого типа, проверок типа не требуется, то указывается тип поля **`object`**

```javaScript

class MyChildType {
    name: string;
}
class MyChildTypeEx extends MyChildType {
    name: string;
}
class MyObjectType  {

    child1: MyChildType;
    
    child2: MyChildType = MyChildType;
    
    child3: MyChildType = MyChildTypeEx;
   
    child4: object;
}
```


## Поля, содержащие списки объектов


Для создания списов объектов поле необходимо указать значение по-умолчанию **`[]`**
В типе поля указывается тип дочерних объектов (и все наследуемые типы). 

Для хранения в списке произвольных объектов, можно указать **`object`**

```javaScript
class MyObjectType  {

    @key name
    listObjects: MyChildType = [];

}
```

Для списков можно указывать тэги: **`@key`**, **`@maxcount`**, **`@index`** 


## Тэги и спецификаторы полей

/# название поля начинается с /# - к полю можно обращаться только из методов данного класса или классов-наследников

**`@inmemory`** - значение поля хранится только в оперативной памяти сервера, при запуске сервера значение null. 

**`@pulse`** - значение поля передается по подписке, но нигде не сохраняется

**`@storageonlyserver`** - значение хранится только на стороне сервера. При запросе объекта клиентом, передается значение null. Значение может использоваться JS-скриптами.

**`@storageonlyclient`** - значение хранится только на стороне клиента, сервер не хранит значение, но передает изменния по подписке

**`@syncclienttoserver`** - запрет подписки на это поле. Изменения не отсылаются клиентам, но могут отправляться на Extensions

**`@key`** - используется для списков объектов. Задается ключевое поле для списка. Поле должно быть в дочернем типе списка объектов

**`@maxcount`** - максимальное количество объектов списка

**`@index`** - используется для списков. Поле в дочернем типе, по которому сервер дополнительно создаст индекс. Используется для ускорении работы при выборки списков с фильтрацией и сортировкой. 

**`@asbytearray`** - поле передается как массив байт, но хранится как blob. Удобно, например, для небольших файлов.

**`@override`** - переопределение поля в родительском типе 


## Константные и статические поля


Значение константных полей нельзя модифицировать. Они объявляются через ключевое поле **`const`**. 

Статические поля хранят значение одно для всего типа данных. Для наследников статические поля могут иметь свое значение.

К константным и статическим полям можно обращаться также из методов других классов через название класса: **MyObjectType.AccessFlag2**

```javaScript
class MyObjectType  {

    const AccessFlag1: uint32 = 0x00000001; 
    static AccessFlag2: uint32 = 0x00000002; 


}
```


