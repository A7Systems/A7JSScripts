# Конфигурация

В этом документе описывается конфигурация в том виде, с которым работает конкетный сервер. 
Сервер должен иметь локально доступ ко всем зависимостям. 

Общее описание конфигурации содержится в [этом документе](https://github.com/A7Systems/A7JSScripts/blob/main/Configuraiton.md). Установщик(шедуллер), скачав такую конфигурацию, должен разрешить все зависимости, скачать необходимые пакеты, и настроить все окружение сервера. 
А сервер получает конечное описание конфигурации, которое содержится в этом документе.

Оно находится в файле configuration.yaml и содержит:

## Название и версия конфигурации

```YAML
name: TestCleverConfiguration
version: 1.0.0
author: A7System
description: test configuration 
```

## Список пакетов

Описывается список входящих в конфигурацию пакетов. 
Дополнительно может быть указана директорию, где находится пакет, если название не совпадает с названием пакета.

```YAML
packets:
  CleverBase:
    path: CleverBase/
  CleverDevice:
    path: CleverDevice/
```

Если указана MD5 хэш-сумма файла, она будет проверяться при загрузке плагина сервером

## Ссылка на базовую конфигурацию

Указывается конфигурация, от которой наследуется текущая конфигурация

```YAML
baseConfiguration: BaseConfigName 1.0.0

```


## Зависимости

Здесь описываются ссылки на внешние пакеты, их версии, которые не входят в данную конфигурации. К этим пакетам можно будет обращаться из кода в данной конфигурации

```YAML
dependencies: 
    BasePacket:
    BasePacketType:
        path: /../ExPackets/BasePacketType.js
        version: 1.0.0

```

## Аддоны

Дополнительные модули, файлы которые используются для работы с данной конфигурацией. Которые не относятся к коду или плагинам

```YAML
addons: 
    reportTemplate1:
        path: /../reports/template1.xlsx


```



## Типы для корневых и специальных объектов 


`spaceApp` - корневой объект для space-а

`userData` - объект создается для каждого пользователя, для хранения настроек данного пользователя 

```YAML
spaceApp: CleverHomeSpace
userData: CleverHomeUserdata
```